___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Mediasmart Cross-device Conversion Tracking",
  "categories": ["CONVERSIONS", "ADVERTISING","ANALYTICS"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Mediasmart Cross-device Conversion Tracking allows tracking conversions on CTV programmatic campaigns that run on mediasmartâ€™s DSP.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "LABEL",
    "name": "reminder",
    "displayName": "For accurate tracking, the event id and event number need to be added to the click tracker and made transferrable to the landing page"
  },
  {
    "type": "TEXT",
    "name": "eventId",
    "displayName": "Advertiser ID",
    "simpleValueType": true,
    "valueHint": "Get your id from console.mediasmart.io",
    "help": "Enter your Advertiser Id or Event ID from your campaign configuration for advertiser level tracking.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "REGEX",
        "args": [
          "[a-zA-Z0-9-_]+"
        ]
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "eventNumber",
    "displayName": "event Number",
    "simpleValueType": true,
    "help": "Conversion number from 1 to 5",
    "defaultValue": 1,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "REGEX",
        "args": [
          "[1-5]"
        ]
      }
    ]
  },
  {
    "type": "LABEL",
    "name": "disclaimer",
    "displayName": "This template shares the IP with Mediasmart to asses if the IP has been seen before or not. Those advertisers using this template must make sure that the user grants consent before triggering the tag associated to this template."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// requires

const templateStorage = require('templateStorage');
const sendPixel = require('sendPixel');
const encodeUriComponent = require('encodeUriComponent');


// variables
let eventId = data.eventId;
let eventNumber = data.eventNumber;

// casting to string
eventId = '' + eventId;
eventNumber = '' + eventNumber;

if (!eventId){
  data.gtmOnFailure();
  return;
}

const storageKey = 'mediasmart-ctv-tracking';

if (templateStorage){
    const userSeen = templateStorage.getItem(storageKey);

    if (userSeen == true){
      // duplicated
      data.gtmOnFailure();
      return;
    }

    templateStorage.setItem(storageKey, true);
    // call pixel
    sendPixel(buildEndpoint(), data.gtmOnSuccess, data.gtmOnFailure);
    return;
 
}

// Send pixel without duplicates detection. Will be done in the backend
sendPixel(buildEndpoint(), data.gtmOnSuccess, data.gtmOnFailure);
return;


function buildEndpoint(){
  let url = 'https://3ma79ae7cua.com/ctv-ga?' + 'eventid=' + encodeUriComponent(eventId);
  if (eventNumber){
    url += '&ms_event_num=' + eventNumber;
  } else {
    url += '&ms_event_num=1';
  }
  url += '&tagversion=20241114';
  return url;
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://3ma79ae7cua.com/ctv-ga*"
              },
              {
                "type": 1,
                "string": "https://ads.mediasmart.es/ctv-ga*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_template_storage",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 25/11/2024, 16:08:51
